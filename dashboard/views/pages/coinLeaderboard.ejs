<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Leaderboard - System Bot</title>
    <link rel="icon" href="/images/bot-logo.png" type="image/x-icon">

    <link rel="stylesheet" href="/css/commands.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/leaderboardcoins.css">
</head>
<body>
    <div class="dashboard-container">
        <aside id="sidebar" class="sidebar">
            <div class="sidebar-header">
                <img src="/images/bot-logo.png" alt="System Bot Logo" class="bot-logo">
                <h2>System Bot</h2>
            </div>
            <nav>
                <ul>
                    <li><a href="/dashboard"><img src="/images/icons/user.png" alt="User Profile Icon"> <span>User Profile</span></a></li>
                    <li><a href="/dashboard"><img src="/images/icons/server.png" alt="Managed Servers Icon"> <span>Managed Servers</span></a></li>
                    <li><a href="/commands"><img src="/images/icons/terminal.png" alt="Commands Icon"> <span>Commands</span></a></li>
                    <li><a href="/leaderboards/coins"><img src="/images/icons/coins.png" alt="Coins Leaderboard Icon"> <span>Coins Leaderboard</span></a></li>
                    <li><a href="/leaderboards/xp"><img src="/images/icons/star.png" alt="XP Leaderboard Icon"> <span>XP Leaderboard</span></a></li>
                    <li><a href="/settings"><img src="/images/icons/cog.png" alt="Settings Icon"> <span>Settings</span></a></li>
                    <li><a href="/analytics"><img src="/images/icons/chart-bar.png" alt="Analytics Icon"> <span>Top Servers</span></a></li>
                    <li><a href="/daily-reward"><img src="/images/icons/gift.png" alt="Daily Reward Icon"> <span>Daily Reward</span></a></li>
                    
                    <li><a href="/logout"><img src="/images/icons/sign-out.png" alt="Logout Icon"> <span>Logout</span></a></li>
                </ul>
            </nav>
        </aside>
        <div class="main-content">
            <div class="leaderboard-container">
                <h1 class="leaderboard-title">Coin Leaderboard</h1>
                <div class="user-stats">
                    <div>
                        <h3>Your Rank</h3>
                        <p><%= userRank ? userRank.toLocaleString() : 'N/A' %></p>
                    </div>
                    <div>
                        <h3>Your Balance</h3>
                        <p><%= userBalance.toLocaleString() %> coins</p>
                    </div>
                    <div>
                        <h3>Total Users</h3>
                        <p><%= totalUsers.toLocaleString() %></p>
                    </div>
                </div>
                <table class="leaderboard-table">
                    <thead>
                        <tr>
                            <th style="width: 20%;"><i class="fas fa-trophy"></i> Position</th>
                            <th style="width: 50%;"><i class="fas fa-user"></i> Username</th>
                            <th style="width: 30%;"><i class="fas fa-coins"></i> Coins</th>
                        </tr>
                    </thead>
                    <tbody>
                        <% leaderboard.forEach((user, index) => { %>
                            <tr class="<%= user.userId === currentUser ? 'current-user' : '' %>">
                                <td class="position"><%= startRank + index + 1 %></td>
                                <td class="username"><%= user.username %></td>
                                <td class="balance"><%= user.wallet ? user.wallet.toLocaleString() : 0 %> coins</td>
                            </tr>
                        <% }); %>
                    </tbody>
                </table>
                <div class="pagination">
                    <button <%= currentPage === 1 ? 'disabled' : '' %> onclick="window.location.href='?page=<%= currentPage - 1 %>'">Previous</button>
                    <button <%= currentPage === totalPages ? 'disabled' : '' %> onclick="window.location.href='?page=<%= currentPage + 1 %>'">Next</button>
                </div>
            </div>
        </div>
    </div>
    <script src="/js/sidebar.js"></script>
</body>
</html>